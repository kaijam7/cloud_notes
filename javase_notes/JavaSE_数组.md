# JavaSE_数组

[TOC]

# 第二章 数组

## 1.1 数组的概述

### 1.数组的理解：

​	数组(Array)，是多个相同类型数据按一定顺序排列的集合，使用一个名字命名，并通过编号的方式对这些数据进行统一管理。

### 2.数组相关的概念：

- 数组名
- 元素
- 下标（索引）
- 数组的长度（元素的个数）

### 3.数组的特点：

- 数组是有序排列的
- 数组属于引用数据类型的变量。数组的元素既可以是基本数据类型，也可以是引用数据类型
- 创建数组对象会在内存中开辟一整块连续的空间
- **数组的长度一旦确定，就不能修改**

### 4.数组的分类：

- 按照维数：一维数组、二维数组......
- 按照数组元素类型：基本数据类型元素的数组、引用数据类型元素的数组

## 1.2 一维数组

### 1.一维数组的声明：

```java
//推荐
数据类型[] 一维数组名称;

//不推荐
数据类型 一维数组名称[];
```

> Java语言中，声明数组时不能指定其长度(数组中元素的个数)，例如：int a[5];	//非法

### 2.一维数组的初始化：

#### 方式一：静态初始化

静态初始化：在定义数组的同时就为数组元素分配空间并赋值。

##### 格式一：

```java
数据类型[] 数组名 = {元素1,元素2,元素3...};//必须在一个语句中完成，不能分开两个语句写
```

- 举例：

定义存储1，2，3，4，5整数的数组容器

```java
int[] arr = {1,2,3,4,5};	//正确

int[] arr;
arr = {1,2,3,4,5};	//错误
```

##### 格式二：

```java
数据类型[] 数组名 = new 数据类型[]{元素1,元素2,元素3...};

或

数据类型[] 数组名;
数组名 = new 数据类型[]{元素1,元素2,元素3...};
```

- 举例：

定义存储1，2，3，4，5整数的数组容器。

```java
int[] arr = new int[]{1,2,3,4,5};//正确

int[] arr;
arr = new int[]{1,2,3,4,5};		//正确

============================================================================================================

int[] arr = int[5]{1,2,3,4,5};	//错误，后面有{}指定元素列表，就不需要在[]中指定长度
```

#### 方式二：动态初始化

动态初始化：数组声明且为数组元素分配空间与赋值的操作分开进行。

##### 格式三：

```java
数据类型[] 数组名 = new 数据类型[长度];

或

数据类型[] 数组名;
数组名 = new 数据类型[长度];
```

- 举例：

定义可以存储5个整数的数组容器，代码如下：

```java
int[] arr = new int[5];

int[] arr;
arr = new int[5];
```

### 3.数组元素的默认初始化值

- 数组元素是整型：0
- 数组元素是浮点型：0.0
- 数组元素是char型：0或 '\u000'，而非 '0'
- 数组元素是boolean型：false
- 数组元素是引用数据类型：null

## 1.3 二维数组

二维数组：本质上就是元素为一维数组的一个数组

```java
int[][] arr; //arr是一个二维数组，可以看成元素是int[]一维数组类型的一个数组
```

### 1.二维数组的声明：

```java
//推荐
数据类型[][] 二维数组名;

//不推荐
数据类型 二维数组名[][];
//不推荐
数据类型[] 二维数组名[];
```

### 2.二维数组的初始化：

#### 方式一：静态初始化

```java
①
数据类型[][] 二维数组名 = new 数据类型[][]{
			{元素1，元素2，元素3...},
			{第二行的值列表},
			...
			{第n行的值列表}
		};

②
数据类型[][] 二维数组名;
二维数组名 = new 数据类型[][]{
			{元素1，元素2，元素3...}, 
			{第二行的值列表},
			...
			{第n行的值列表}
		};

③
//以下格式要求声明与静态初始化必须一起完成
数据类型[][] 二维数组的名称 = {
			{元素1，元素2，元素3...}, 
			{第二行的值列表},
			...
			{第n行的值列表}
		};
```

> 如果是静态初始化，右边new数据类型 \[\]\[\] 中不能写数字，因为行数和列数，由 {} 的元素个数决定

- 举例：

```java
①
int[][] arr = new int[][]{{1,2,3},{4,5,6},{7,8,9}};

②
int[][] arr;
arr = new int[][]{{1,2,3},{4,5,6},{7,8,9}};
//arr = new int[3][3]{{1,2,3},{4,5,6},{7,8,9}};		//错误，静态初始化右边new 数据类型[]中不能写数字

③
int[][] arr = {{1,2,3},{4,5,6},{7,8,9}};//声明与初始化必须同时进行
```

#### 方式二：动态初始化

##### ①规则二维表：每一行的列数都相同

```java
//（1）确定行数和列数
数据类型[][] 二维数组名 = new 数据类型[m][n];
	m:表示这个二维数组有多少个一维数组，或者说二维表一共有几行
	n:表示每一个一维数组的元素个数，或者说每一行共有几个单元格

//此时创建完数组，行数、列数确定，且元素都有默认值

//（2）再为元素赋值
二维数组名[行下标][列下标] = 值;
```

- 举例：

```java
	public static void main(String[] args) {
    	//定义一个二维数组
    	int[][] arr = new int[3][2];
    
    	//定义了一个二维数组arr
    	//这个二维数组有3个一维数组的元素
    	//每一个一维数组有2个元素
    	//输出二维数组名称
    	System.out.println(arr); //地址值	[[I@175078b
    
    	//输出二维数组的第一个元素一维数组的名称
    	System.out.println(arr[0]); //地址值	[I@42552c
    	System.out.println(arr[1]); //地址值	[I@e5bbd6
    	System.out.println(arr[2]); //地址值	[I@8ee016
    
    	//输出二维数组的元素
    	System.out.println(arr[0][0]); //0
    	System.out.println(arr[0][1]); //0
    
    	//...
	}
```

##### ②不规则二维表：每一行的列数可能不一样

```java
//（1）先确定总行数
数据类型[][] 二维数组名 = new 数据类型[总行数][];

//此时只是确定了总行数，每一行里面现在是null

//（2）再确定每一行的列数，创建每一行的一维数组
二维数组名[行下标] = new 数据类型[该行的总列数];

//此时已经new完的行的元素就有默认值了，没有new的行还是null

//(3)再为元素赋值
二维数组名[行下标][列下标] = 值;
```

- 举例：

```java
	public static void main(String[] args) {
		//定义数组
		int[][] arr = new int[3][];
        
        System.out.println(arr);	//[[I@175078b
        
        System.out.println(arr[1][0]);//NullPointerException
		System.out.println(arr[0]); //null
		System.out.println(arr[1]); //null
		System.out.println(arr[2]); //null
		
		//动态的为每一个一维数组分配空间
		arr[0] = new int[2];
		arr[1] = new int[3];
		arr[2] = new int[1];
		
		System.out.println(arr[0]); //[I@42552c
		System.out.println(arr[1]); //[I@e5bbd6
		System.out.println(arr[2]); //[I@8ee016
		
		System.out.println(arr[0][0]); //0
		System.out.println(arr[0][1]); //0
		//ArrayIndexOutOfBoundsException
		//System.out.println(arr[0][2]); //错误
		
		arr[1][0] = 100;
		arr[1][2] = 200;
	}
```

### 3.二维数组的相关名称及其表示方式：

1. 二维数组的长度/行数：

   二维数组名.length

2. 二维数组的某一行：

   二维数组名[行下标]

   行下标的范围：[0, 二维数组名.length-1]

3. 某一行的列数：

   二维数组名[行下标].length

   因为二维数组的每一行是一个一维数组

4. 某一个元素：

   二维数组名\[行下标\]\[列下标\]

### 4.二维数组的遍历：

```java
for(int i=0; i<二维数组名.length; i++){
    for(int j=0; j<二维数组名[i].length; j++){
        System.out.println(二维数组名[i][j]);
    }
    System.out.println();
}
```

### 5.数组操作的常见异常：

#### 数组越界异常

观察以下代码，运行后会出现什么结果。

```java
public static void main(String[] args) {
    int[] arr = {1,2,3};
    System.out.println(arr[3]);
}
```

创建数组，赋值3个元素，数组的索引就是0，1，2，没有3索引，因此我们不能访问数组中不存在的索引，程序运行后，将会抛出 `ArrayIndexOutOfBoundsException`  数组越界异常。在开发中，数组的越界异常是**不能出现**的，一旦出现了，就必须要修改我们编写的代码。

![img](file://D:\Files\atguigu\JavaSE\01_%E8%AF%BE%E4%BB%B6\day04_note\imgs\%E6%95%B0%E7%BB%84%E8%B6%8A%E7%95%8C%E5%BC%82%E5%B8%B8.jpg?lastModify=1622712232)

#### 数组空指针异常

观察以下代码，运行后会出现什么结果。

```java
public static void main(String[] args) {
	//定义数组
	int[][] arr = new int[3][];
        
    System.out.println(arr[0][0]);//NullPointerException
}
```

因为此时数组的每一行还未分配具体存储元素的空间，此时arr\[0\]是null，此时访问arr\[0\]\[0\]会抛出`NullPointerException` 空指针异常。

![img](file://D:\Files\atguigu\JavaSE\01_%E8%AF%BE%E4%BB%B6\day04_note\imgs\%E7%A9%BA%E6%8C%87%E9%92%88%E5%BC%82%E5%B8%B8.jpg?lastModify=1622712461)

空指针异常在内存图中的表现

![1572338767825](file://D:\Files\atguigu\JavaSE\01_%E8%AF%BE%E4%BB%B6\day04_note\imgs\1572338767825.png?lastModify=1622712510)
